{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["'use strict'\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport Axios from \"axios\";\n\n\nconst refs = {\n    formEl: document.querySelector('.form'),\n    input: document.querySelector('#valueGallery'),\n    galleryEl: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader'),\n    btnLoad: document.querySelector('.btn-load'),\n    \n}\n\nlet page = 1;\nconst limit = 15;\nconst totalPages = Math.ceil(500 / limit);\n\nrefs.formEl.addEventListener('submit', onFormSubmit);\nrefs.loader.style.visibility = 'hidden';\n\n\nasync function onFormSubmit(e) {\n    e.preventDefault();\n    refs.galleryEl.innerHTML = '';\n    const value = e.target.elements.valueGallery.value;\n    if (value !== '') {\n        refs.loader.style.visibility = 'visible';\n    }        \n    \n    const data = await getUrl(value);\n        if (data.length > 0 & value !== '') {\n            refs.loader.style.visibility = 'hidden';\n            renderImages(data);\n            page += 1;\n            \n            if (page > 1) {\n                refs.btnLoad.style.visibility = 'visible';\n                refs.btnLoad.addEventListener('click', async () => {\n                    const data = await getUrl(value);\n                    renderImages(data);\n                    page += 1;\n                });\n            }if (condition) {\n                \n            } else {\n                \n            }\n            value.addEventListener('change', () => {\n                    refs.btnLoad.style.visibility = 'hidden'; \n                    page = 1;\n               });\n            \n        } else {\n            refs.loader.style.visibility = 'hidden';\n            iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n            })\n        }\n    \n        \n    e.target.reset();\n};\n\n\nconst axios = Axios.create({\n    baseURL: 'https://pixabay.com/api/',\n    \n})\nasync function getUrl(clientValue) {\n\n    const response =await axios.get('',{params: {\n        key: '42132466-2eec74b8e2a534f613ea758a4',\n        q: clientValue,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page: limit,\n        page: page,\n        \n        \n    }});\n    return response.data.hits;\n\n}\n\n\n\nfunction imageTemplate(img) {\n    const {webformatURL, largeImageURL, tags, likes, views, comments, downloads} = img;\n    \n    return `<li>\n    <div class=\"card\">\n    <div class=\"img-container\">\n    <a href=\"${largeImageURL}\">\n    <img src=\"${webformatURL}\" alt=\"${tags}\" />\n    </a>\n    </div>\n    <div class=\"img-comments\">\n    <p class=\"describe\">Likes ${ likes }</p>\n    <p class=\"describe\">Views ${ views }</p>\n    <p class=\"describe\">Comments ${ comments }</p>\n    <p class=\"describe\">Downloads ${downloads}</p>\n    </div>\n    </div>\n    </li>\n    `;\n}\n\n\nfunction imagesTemplate(images) {\n    return images.map(imageTemplate).join('');\n}\nfunction renderImages(images) {\n    const markup = imagesTemplate(images) ;\n    refs.galleryEl.insertAdjacentHTML('beforeend',markup);\n    let simpleLightBox = new SimpleLightbox('.gallery a', { captionsData: 'alt', captionDelay: 250 }).refresh();\n};"],"names":["refs","page","limit","onFormSubmit","e","value","data","getUrl","renderImages","iziToast","axios","Axios","clientValue","imageTemplate","img","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesTemplate","images","markup","SimpleLightbox"],"mappings":"owBASA,MAAMA,EAAO,CACT,OAAQ,SAAS,cAAc,OAAO,EACtC,MAAO,SAAS,cAAc,eAAe,EAC7C,UAAW,SAAS,cAAc,UAAU,EAC5C,OAAQ,SAAS,cAAc,SAAS,EACxC,QAAS,SAAS,cAAc,WAAW,CAE/C,EAEA,IAAIC,EAAO,EACX,MAAMC,EAAQ,GAGdF,EAAK,OAAO,iBAAiB,SAAUG,CAAY,EACnDH,EAAK,OAAO,MAAM,WAAa,SAG/B,eAAeG,EAAaC,EAAG,CAC3BA,EAAE,eAAc,EAChBJ,EAAK,UAAU,UAAY,GAC3B,MAAMK,EAAQD,EAAE,OAAO,SAAS,aAAa,MACzCC,IAAU,KACVL,EAAK,OAAO,MAAM,WAAa,WAGnC,MAAMM,EAAO,MAAMC,EAAOF,CAAK,EACvBC,EAAK,OAAS,EAAID,IAAU,IAC5BL,EAAK,OAAO,MAAM,WAAa,SAC/BQ,EAAaF,CAAI,EACjBL,GAAQ,EAEJA,EAAO,IACPD,EAAK,QAAQ,MAAM,WAAa,UAChCA,EAAK,QAAQ,iBAAiB,QAAS,SAAY,CAC/C,MAAMM,EAAO,MAAMC,EAAOF,CAAK,EAC/BG,EAAaF,CAAI,EACjBL,GAAQ,CAC5B,CAAiB,GACA,UAKLI,EAAM,iBAAiB,SAAU,IAAM,CAC/BL,EAAK,QAAQ,MAAM,WAAa,SAChCC,EAAO,CAC3B,CAAgB,IAGJD,EAAK,OAAO,MAAM,WAAa,SAC/BS,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC1B,CAAa,GAITL,EAAE,OAAO,OACb,CAGA,MAAMM,EAAQC,EAAM,OAAO,CACvB,QAAS,0BAEb,CAAC,EACD,eAAeJ,EAAOK,EAAa,CAa/B,OAXgB,MAAMF,EAAM,IAAI,GAAG,CAAC,OAAQ,CACxC,IAAK,qCACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAUV,EACV,KAAMD,CAGT,CAAA,CAAC,GACc,KAAK,IAEzB,CAIA,SAASY,EAAcC,EAAK,CACxB,KAAM,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAIP,EAE/E,MAAO;AAAA;AAAA;AAAA,eAGIE,CAAa;AAAA,gBACZD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,gCAITC,CAAO;AAAA,gCACPC,CAAO;AAAA,mCACJC,CAAU;AAAA,oCACVC,CAAS;AAAA;AAAA;AAAA;AAAA,KAK7C,CAGA,SAASC,EAAeC,EAAQ,CAC5B,OAAOA,EAAO,IAAIV,CAAa,EAAE,KAAK,EAAE,CAC5C,CACA,SAASL,EAAae,EAAQ,CAC1B,MAAMC,EAASF,EAAeC,CAAM,EACpCvB,EAAK,UAAU,mBAAmB,YAAYwB,CAAM,EAC/B,IAAIC,EAAe,aAAc,CAAE,aAAc,MAAO,aAAc,IAAK,EAAE,QAAU,CAChH"}